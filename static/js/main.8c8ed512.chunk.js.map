{"version":3,"sources":["components/Error.js","components/Formulario.js","components/Imagen.js","components/ListadoImagenes.js","App.js","index.js"],"names":["Error","mensaje","className","Formulario","setSearch","inputSearch","useRef","useState","error","setError","onSubmit","e","preventDefault","data","current","value","type","placeholder","ref","Imagen","imagen","largeImageURL","likes","previewURL","tags","views","src","alt","href","target","rel","ListadoImagenes","imagenes","map","id","App","search","setImagenes","paginaActual","setPaginaActual","totalPaginas","setTotalPaginas","useEffect","a","imgByPage","url","fetch","respuesta","json","resultado","hits","Math","ceil","totalHits","document","querySelector","scrollIntoView","behavior","consultarAPI","paginaAnterior","paginaSiguiente","onClick","disabled","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.8c8ed512.chunk.js","sourcesContent":["import React from \"react\";\n\nconst Error = ({ mensaje }) => {\n  return <p className=\"my-3 p-4 text-center alert alert-primary\">{mensaje}</p>;\n};\n\nexport default Error;\n","import React, { useRef, useState } from \"react\";\nimport Error from \"./Error\";\n\nconst Formulario = ({ setSearch }) => {\n  //referencia al input search\n  const inputSearch = useRef(null);\n  /* State del error */\n  const [error, setError] = useState(false);\n\n  const handleSubmit = (e) => {\n    e.preventDefault();\n    const data = inputSearch.current.value;\n\n    if (data === \"\") {\n      setError(true);\n      return;\n    }\n    setError(false);\n    setSearch(data);\n  };\n\n  return (\n    <form onSubmit={handleSubmit}>\n      <div className=\"row\">\n        <div className=\"form-group col-md-8\">\n          <input\n            type=\"text\"\n            className=\"form-control form-control-lg\"\n            placeholder=\"Busca una imagen, ejemplo: futbol o café\"\n            ref={inputSearch}\n          ></input>\n        </div>\n        <div className=\"form-group col-md-4\">\n          <input\n            type=\"submit\"\n            className=\"btn btn-lg btn-danger btn-block\"\n            value=\"Buscar\"\n          ></input>\n        </div>\n      </div>\n      {error ? <Error mensaje=\"El campo es obligatorio\" /> : null}\n    </form>\n  );\n};\n\nexport default Formulario;\n","import React from \"react\";\n\nconst Imagen = ({ imagen }) => {\n  const { largeImageURL, likes, previewURL, tags, views } = imagen;\n  return (\n    <div className=\"col-12 col-sm-6 col-md-4 col-lg-3 mb-4\">\n      <div className=\"card\">\n        <img src={previewURL} alt={tags} className=\"card-img-top\" />\n        <div className=\"card-body\">\n          <p className=\"card-text\">{likes} Me gusta</p>\n          <p className=\"card-text\">{views} Visitas</p>\n        </div>\n        <div className=\"card-footer\">\n          <a\n            href={largeImageURL}\n            target=\"_blank\"\n            rel=\"noopener noreferrer\"\n            className=\"btn btn-primary btn-block\"\n          >\n            Ver Imagen\n          </a>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default Imagen;\n","import React from \"react\";\nimport Imagen from \"./Imagen\";\n\nconst ListadoImagenes = ({ imagenes }) => {\n  return (\n    <div className=\"col-12 p-5 row\">\n      {imagenes &&\n        imagenes.map((imagen) => <Imagen imagen={imagen} key={imagen.id} />)}\n    </div>\n  );\n};\n\nexport default ListadoImagenes;\n","import React, { useState, useEffect } from \"react\";\nimport Formulario from \"./components/Formulario\";\nimport ListadoImagenes from \"./components/ListadoImagenes\";\n\nfunction App() {\n  //estado del form\n  const [search, setSearch] = useState(\"\");\n\n  //estado de la respuesta\n  const [imagenes, setImagenes] = useState([]);\n\n  // Pagina en la que nos encontramos\n  const [paginaActual, setPaginaActual] = useState(1);\n\n  // Total de páginas\n  const [totalPaginas, setTotalPaginas] = useState(1);\n\n  //consultar la API\n  useEffect(() => {\n    const consultarAPI = async () => {\n      if (search === \"\") return;\n      const imgByPage = 30;\n      const KEY = \"18206311-1836487428f0f2a3322f725c1\";\n      const url = `https://pixabay.com/api/?key=${KEY}&q=${search}&per_page=${imgByPage}&page=${paginaActual}`;\n      const respuesta = await fetch(url);\n      const resultado = await respuesta.json();\n      setImagenes(resultado.hits);\n\n      //calcular num de paginas\n      setTotalPaginas(Math.ceil(resultado.totalHits / imgByPage));\n      //Mover la página hacia arriba\n      document\n        .querySelector(\".jumbotron\")\n        .scrollIntoView({ behavior: \"smooth\" });\n    };\n    consultarAPI();\n  }, [search, paginaActual]);\n\n  //Definir la página anterior\n  const paginaAnterior = () => {\n    if (paginaActual === 1) return;\n    setPaginaActual(paginaActual - 1);\n  };\n\n  //Definir la página siguiente\n  const paginaSiguiente = () => {\n    if (paginaActual === totalPaginas) return;\n    setPaginaActual(paginaActual + 1);\n  };\n\n  return (\n    <div className=\"container\">\n      <div className=\"jumbotron\">\n        <p className=\"lead text-center\">Buscador de Imagenes</p>\n        <Formulario setSearch={setSearch} />\n      </div>\n      <div className=\"row justify-content-center\">\n        <ListadoImagenes imagenes={imagenes} />\n        {/* BOTON IZQUIERDO */}\n        {paginaActual === 1 ? (\n          <button\n            type=\"button\"\n            className=\"bbtn btn-info mr-1 bg-secondary\"\n            onClick={paginaAnterior}\n            disabled\n          >\n            &laquo; Anterior\n          </button>\n        ) : (\n          <button\n            type=\"button\"\n            className=\"bbtn btn-info mr-1\"\n            onClick={paginaAnterior}\n          >\n            &laquo; Anterior\n          </button>\n        )}\n\n        {/* BOTON DERECHO */}\n        {paginaActual === totalPaginas ? (\n          <button\n            type=\"button\"\n            className=\"bbtn btn-info mr-1 bg-secondary\"\n            onClick={paginaSiguiente}\n            disabled\n          >\n            &raquo; Siguiente\n          </button>\n        ) : (\n          <button\n            type=\"button\"\n            className=\"bbtn btn-info mr-1 \"\n            onClick={paginaSiguiente}\n          >\n            Siguiente &raquo;\n          </button>\n        )}\n      </div>\n    </div>\n  );\n}\n\nexport default App;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\nimport App from \"./App\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n"],"sourceRoot":""}